from requests.auth import HTTPBasicAuth
import requests

def get_issue(cfg, issue_key):
    jira = cfg["jira"]

    url = f"{jira['url']}/rest/api/2/issue/{issue_key}"

    r = requests.get(
        url,
        auth=HTTPBasicAuth(jira["username"], jira["token"]),
        timeout=15
    )
    r.raise_for_status()
    return r.json()