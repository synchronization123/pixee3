# Codex CLI skill to fetch Jira issue title

# Description:
# This script fetches details of a Jira issue from the REST API,
# including its summary (title).
# Replace ISSUE_KEY with the Jira key you want to fetch (e.g., ABC-123).

# Input:
# ISSUE_KEY: the Jira issue key you want to fetch

# Codex CLI fetch block
fetch jira_issue_details:
  description: Retrieve a Jira issue summary from https://jira.abc.com
  run:
    shell: |
      # Replace ISSUE_KEY with actual Jira issue ID
      ISSUE_KEY="{{ISSUE_KEY}}"

      # Call Jira REST API to get issue summary
      response=$(curl -s \
        -H "Authorization: Bearer hjjgvh" \
        -H "Accept: application/json" \
        "https://jira.abc.com/rest/api/2/issue/$ISSUE_KEY?fields=summary")

      # Parse JSON to extract the title/summary
      title=$(echo "$response" | jq -r '.fields.summary')

      echo "Jira Issue: $ISSUE_KEY"
      echo "Title: $title"